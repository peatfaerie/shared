javascript:(()=>{!function(a,t=!0){var l='<?xml version="1.0"?><kml><Document><Folder>',n="</Folder></Document></kml>",o=[];var r="";var e=squadrats.map.getBounds();let s,d;{var u,S;d=squadrats.google?(u=e.getNorthEast(),S=e.getSouthWest(),s={lat:u.lat(),lng:S.lng()},{lat:S.lat(),lng:u.lng()}):(s=e.getNorthWest(),e.getSouthEast())}lata=MAP.CONVERSIONS.lat2squadrat(s.lat,a),lona=MAP.CONVERSIONS.lon2squadrat(s.lng,a),latb=MAP.CONVERSIONS.lat2squadrat(d.lat,a),lonb=MAP.CONVERSIONS.lon2squadrat(d.lng,a);for(let t=lona;t<=lonb;t++)for(let a=lata;a<=latb;a++)o.push(t+"-"+a);for(const i of o){var N,O;squadrats.raw[a].has(i)||([N,O]=i.split("-"),r+="<Placemark><LineString><coordinates>"+MAP.CONVERSIONS.squadrat2lon(+N,a)+","+MAP.CONVERSIONS.squadrat2lat(+O,a)+" "+ +MAP.CONVERSIONS.squadrat2lon(+N+1,a)+","+MAP.CONVERSIONS.squadrat2lat(+O,a)+" "+MAP.CONVERSIONS.squadrat2lon(+N+1,a)+","+MAP.CONVERSIONS.squadrat2lat(+O+1,a)+" "+ +MAP.CONVERSIONS.squadrat2lon(+N,a)+","+MAP.CONVERSIONS.squadrat2lat(+O+1,a)+" "+ +MAP.CONVERSIONS.squadrat2lon(+N,a)+","+MAP.CONVERSIONS.squadrat2lat(+O,a)+"</coordinates></LineString></Placemark>")}{if(!t)return;!function(a,t){var l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),l.setAttribute("download",a),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)}("sqn.kml",l+r+n)}}(17);})();
